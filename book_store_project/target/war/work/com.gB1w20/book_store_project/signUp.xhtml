<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:bookstore="http://java.sun.com/jsf/composite/default_components">
    <h:head>
        <title>Register</title>
        <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&amp;display=swap" rel="stylesheet"/>
        <h:outputStylesheet library="webjars" name="Semantic-UI/2.4.1/semantic.min.css" />
        <h:outputStylesheet library="css" name="homepage.css" />
    </h:head>
    <h:body>
        <!--composite component that comes from the navbar.xhtml file to avoid coding nav bar in all web pages-->
        <bookstore:navbar/>

        <h:form class="ui form" id="register">
            <div class="ui fluid card">
                <div class="lightGreyDiv">
                    <div class="thingy5">
                        <h1 class="ui header">Register</h1>
                        <div class="thingy6">
                            <div class="two fields">
                                <div class="field">
                                    <h:outputLabel for="firstName" value="First Name"/>
                                    <h:inputText id="firstName" label="First Name" value="#{clientBacking.client.firstName}" required="true" requiredMessage="Please enter first name" a:placeholder="Enter first name" validator="#{clientBacking.validateNotNull}">
                                        <f:ajax event="change" render="firstNameError"/>
                                    </h:inputText>
                                    <br/>
                                    <h:message id="firstNameError" class="error" for="firstName"/>
                                </div>
                                <div class="field">
                                    <h:outputLabel for="lastName" value="Last Name"/>
                                    <h:inputText id="lastName" label="Last Name" value="#{clientBacking.client.lastName}" required="true" requiredMessage="Please enter last name" a:placeholder="Enter last name" validator="#{clientBacking.validateNotNull}">
                                        <f:ajax event="change" render="lastNameError"/>
                                    </h:inputText>
                                    <br/>
                                    <h:message id="lastNameError" class="error" for="lastName"/>
                                </div>
                            </div>
                            <div class="field">
                                <h:outputLabel for="address1" value="Address 1"/>
                                <h:inputText id="address1" label="Address 1" value="#{clientBacking.client.address1}" required="true" requiredMessage="Please enter address 1" a:placeholder="Enter address 1" validator="#{clientBacking.validateNotNull}">
                                    <f:ajax event="change" render="address1Error"/>
                                </h:inputText>
                                <br/>
                                <h:message id="address1Error" class="error" for="address1"/>
                            </div>
                            <div class="field">
                                <h:outputLabel for="address2" value="Address 2"/>
                                <h:inputText id="address2" label="Address 2" value="#{clientBacking.client.address2}" required="true" requiredMessage="Please enter address 2" a:placeholder="Enter address 2" validator="#{clientBacking.validateNotNull}">
                                    <f:ajax event="change" render="address2Error"/>
                                </h:inputText>
                                <br/>
                                <h:message id="address2Error" class="error" for="address2"/>
                            </div>
                            <div class="fields">
                                <div class="twelve wide field">
                                    <h:outputLabel for="country" value="Country"/>
                                    <h:selectOneMenu id="country" label="Country" required="true" value="#{clientBacking.client.country}" requiredMessage="Please enter country" a:placeholder="Enter country">
                                        <f:selectItem itemValue="Canada" itemLabel="Canada" />
                                    </h:selectOneMenu>
                                    <h:message id="countryError" class="error" for="country"/>
                                </div>
                                <div class="four wide field">
                                    <h:outputLabel for="provOrState" value="Province/State"/>
                                    <h:selectOneMenu id="provOrState" label="Province/State" value="#{clientBacking.client.provinceAbbreviation}" required="true" requiredMessage="Please enter province or state" a:placeholder="Enter province or state">
                                        <f:selectItems value="#{clientBacking.provinces}" />
                                    </h:selectOneMenu>
                                    <br/>
                                    <h:message id="provStateError" class="error" for="provOrState"/>
                                </div>
                            </div>
                            <div class="fields">
                                <div class="twelve wide field">
                                    <h:outputLabel for="city" value="City"/>
                                    <h:inputText id="city" label="City" value="#{clientBacking.client.city}" required="true" requiredMessage="Please enter city" a:placeholder="Enter city" validator="#{clientBacking.validateNotNull}">
                                        <f:ajax event="change" render="cityError"/>
                                    </h:inputText>
                                    <br/>
                                    <h:message id="cityError" class="error" for="city"/>
                                </div>
                                <div class="four wide field">
                                    <h:outputLabel for="postalCode" value="Postal Code"/>
                                    <h:inputText id="postalCode" label="Postal Code" value="#{clientBacking.client.postalCode}" required="true" requiredMessage="Please enter postal code" a:placeholder="Enter postal code" validator="#{clientBacking.validatePostalCode}">
                                        <f:ajax event="change" render="postalCodeError"/>
                                    </h:inputText>
                                    <br/>
                                    <h:message id="postalCodeError" class="error" for="postalCode"/>
                                </div>
                            </div>
                            <div class="two fields">
                                <div class="field">
                                    <h:outputLabel for="homePhone" value="Home Phone"/>
                                    <h:inputText id="homePhone" label="homePhone" value="#{clientBacking.client.homeTelephone}" required="true" requiredMessage="Please enter home phone" a:placeholder="Enter home phone" validator="#{clientBacking.validateHomePhone}">
                                        <f:ajax event="change" render="homePhoneError"/>
                                    </h:inputText>
                                    <br/>
                                    <h:message id="homePhoneError" class="error" for="homePhone"/>
                                </div>
                                <div class="field">
                                    <h:outputLabel for="cellPhone" value="Cell Phone"/>
                                    <h:inputText id="cellPhone" label="cellPhone" value="#{clientBacking.client.cellTelephone}" required="true" requiredMessage="Please enter cell phone" a:placeholder="Enter cell phone" validator="#{clientBacking.validateCellPhone}">
                                        <f:ajax event="change" render="cellPhoneError"/>
                                    </h:inputText>
                                    <br/>
                                    <h:message id="cellPhoneError" class="error" for="cellPhone"/>
                                </div>
                            </div>
                            <div class="field">
                                <h:outputLabel for="companyName" value="Company Name"/>
                                <h:inputText id="companyName" label="Company Name" value="#{clientBacking.client.companyName}" required="true" requiredMessage="Please enter company name" a:placeholder="Enter company name" validator="#{clientBacking.validateNotNull}">
                                    <f:ajax event="change" render="companyNameError"/>
                                </h:inputText>
                                <br/>
                                <h:message id="companyNameError" class="error" for="companyName"/>
                            </div>
                            <div class="field">
                                <h:outputLabel for="email" value="Email"/>
                                <h:inputText id="email" label="email" value="#{clientBacking.client.email}" required="true" requiredMessage="Please enter email" a:placeholder="Enter email" validator="#{clientBacking.validateUniqueAndValidEmail}">
                                    <f:validateRegex pattern="([^.@]+)(\.[^.@]+)*@([^.@]+\.)+([^.@]+)" />
                                    <f:ajax event="change" render="emailError"/>
                                </h:inputText>
                                <br/>
                                <h:message id="emailError" class="error" for="email"/>
                            </div>
                            <div class="field">
                                <h:outputLabel for="password" value="Password"/>
                                <h:inputSecret id="password" value="#{clientBacking.registerPassword}" label="password" required="true" requiredMessage="Please enter password" a:placeholder="Enter password" validator="#{clientBacking.validateNotNull}">
                                    <f:ajax event="change" render="passwordError"/>
                                </h:inputSecret>
                                <br/>
                                <h:message id="passwordError" class="error" for="password"/>
                            </div>
                            <div class="field">
                                <h:outputLabel for="passwordRe" value="Re-enter Password"/>
                                <h:inputSecret id="passwordRe" value="#{clientBacking.registerPasswordConfirm}" label="passwordRe" required="true" requiredMessage="Please re-enter password" a:placeholder="Re-enter password" validator="#{clientBacking.validatePassword}" />
                                <br/>
                                <h:message id="passwordReError" class="error" for="passwordRe"/>
                            </div>
                            <h:commandButton class="huge black fluid ui button" id="registerBtn" value="Register" action="#{clientBacking.createClient()}" />
                            <br/>
                            <a href="signIn.xhtml" class="signUpLink">Login</a>
                        </div>
                    </div>
                </div>
            </div>
        </h:form>
        
        <!--composite component that comes from the footer.xhtml file to avoid coding the website footer in all web pages-->
        <bookstore:footer/>
    </h:body>
</html>
