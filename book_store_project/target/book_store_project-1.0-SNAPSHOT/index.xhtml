<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"

      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:bookstore="http://java.sun.com/jsf/composite/default_components"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>The BookStore</title>
        <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css"/>

        <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&amp;display=swap" rel="stylesheet"/>

        <h:outputStylesheet library="webjars" name="Semantic-UI/2.4.1/semantic.min.css" />
        <h:outputStylesheet library="css" name="homepage.css" />

        <h:outputScript library="js" name="homepage.js" />


        <script src="https://unpkg.com/swiper/js/swiper.min.js"></script>
    </h:head>

    <h:body>
        <b:alert severity="info">#{clientBacking.message}</b:alert>

        <!--composite component that comes from the navbar.xhtml file to avoid coding nav bar in all web pages-->
        <bookstore:navbar/>

        <div class="swiper-container">
            <div class="swiper-wrapper">

                <ui:repeat value="#{bb.recentlyAdded}" var="book">
                    <div class="swiper-slide item1">  

                        <div class="sliderTextContent">

                            <h1>#{book.title}</h1>
                            <span>    <ui:repeat value="#{book.authorsCollection}" var="author">
                                    #{author.name}
                                </ui:repeat></span>
                            <p> #{book.description}</p>
                            <h:form>
                                <h:commandButton type="submit"
                                                 value="Shop Now"
                                                 action="#{bb.viewBook(book)}" />
                            </h:form>
                        </div>


                        <div  class="sliderImageContent">
                            <h:graphicImage width="300px" height="400px" library="images" name="#{book.isbn}.jpg"  />
                        </div>
                    </div>
                </ui:repeat>

            </div>
            <!-- Add Pagination -->
            <div class="swiper-pagination"></div>
            <!-- Add Arrows -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
        <div class="lightOrangeDiv">

            <p class="small">Best Seller Products</p><br/>
            <h:form>
                <h:panelGroup>
                    <div class="ui four doubling stackable cards">


                        <ui:repeat value="#{bb.bestSeller}" var="books">
                            <div class="ui fluid card darker">
                                <div class="homepageImg">
                                    <h:graphicImage class="img" height="250" width="156.25" library="images" name="#{books.isbn}.jpg"/>
                                    <div class="cardHoverBtn"> View Cover</div>
                                </div>

                                <div class="content">

                                    <h:commandLink action = "#{bb.viewBook(books)}" type="submit" value = "">
                                        <div class="header">

                                            #{books.title}</div>
                                        <div class="meta">

                                            <ui:repeat value="#{books.authorsCollection}" var="author">
                                                #{author.name}
                                            </ui:repeat>

                                        </div>

                                        <div class="description">
                                            <div class="ui tag labels">
                                                <a class="ui label">
                                                    $#{books.listPrice}
                                                </a>
                                            </div>

                                        </div>
                                    </h:commandLink>

                                </div>


                                <div class="ui two bottom attached buttons ">
                                    <div onclick="addToCart()" class="ui button">+ Add to Cart</div>


                                </div>
                            </div>
                        </ui:repeat>
                    </div>
                </h:panelGroup>
            </h:form>

            <br/><br/>
            <h:form>
                <div class=" searchBarDiv">
                    <h:inputText a:placeholder="Search books..." value="#{search.query}" style=" float: center; margin-top: -30px;" class="searchBar"/>
                    <h:commandButton class="searchButton" action="#{search.showSearch()}" type="submit" value = "Search"/>
                </div>
            </h:form>
            <!-- The Modal -->
            <div id="myModal" class="modal">

                <!-- The Close Button -->
                <span class="close">X</span>

                <!-- Modal Content (The Image) -->
                <h:graphicImage height="100%" width="50%" class="modal-content" id="img01" library="images" name="colorScheme.PNG"  />

                <!-- Modal Caption (Image Text) -->
                <div id="caption"></div>
            </div>

        </div>


        <!-- Survey/Ad/News Section -->

        <div   class="lightGreyDiv">







            <table class="ui table lightGreyDiv" >

                <tbody>
                    <tr align="center">
                        <td align="center"><div class="ui wide skyscraper test ad left"  data-text="News"></div></td>
                        <td align="center"> <div class="ui netboard test ad survey" data-text="Survey" >

                                <h:form>

                                    <ui:repeat value="#{ss.survey}" var="s">

                                        <h1>  #{s.surveyName}</h1>

                                        <p>#{s.surveyDescription}</p>

                                        <h:selectOneRadio required="true" layout="pageDirection" value="" >


                                            <f:selectItem itemValue = "isbn" itemLabel = "Yes" />
                                            <f:selectItem itemValue = "isbn" itemLabel = "No" />

                                            <f:selectItem itemValue = "isbn" itemLabel = "Sometimes" />
                                            <f:selectItem itemValue = "isbn" itemLabel = "Only morally questionable material" />
                                            <f:selectItem itemValue = "isbn" itemLabel = "Actually I am illiterate, someone helped me vote here" />
                                        </h:selectOneRadio>


                                    </ui:repeat>


                                    <h:commandButton type="submit" value="Submit"/>

                                </h:form>
                            </div></td>
                        <td align="center"><div class="ui wide skyscraper test ad right" data-text="">
                                <h:graphicImage height="100%" width="100%" library="images" name="apples.png"  onclick="viewAd('https://en.wikipedia.org/wiki/Apple')"/>
                            </div></td>
                    </tr>
                </tbody>
            </table>

        </div>


        <div class="lightPurpleDiv">
            <p class="small">Popular Genres</p><br/>

            <h:form>

                <h:panelGroup>
                    <div class="ui four doubling stackable cards">
                        <ui:repeat value="#{bb.popularGenres}" var="genres">
                            <div class="ui fluid card darker">
                                <h:commandLink action = "#{search.showGenreBooks(genres)}" type="submit" value = "">
                                    <div class="homepageImg">
                                        <h:graphicImage class="img" height="200" width="320" library="images" name="#{genres}.jpg"/>
                                    </div>
                                    <div class="content">
                                        <div class="header">#{genres}</div>
                                    </div>
                                </h:commandLink>
                            </div>

                        </ui:repeat>
                    </div>
                </h:panelGroup>


            </h:form>
            <br/><br/>
            <div class="ui centered leaderboard test ad">
                <h:graphicImage height="100%" width="100%" library="images" name="blueberry.png" onclick="viewAd('https://en.wikipedia.org/wiki/Blueberry')" />
            </div>
        </div>



        <!--composite component that comes from the footer.xhtml file to avoid coding the website footer in all web pages-->
        <bookstore:footer/>

        <!-- Initialize Swiper -->
        <script>
            var swiper = new Swiper('.swiper-container', {
                loop: true,
                centeredSlides: true,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
            });
        </script>
    </h:body>
</html>
