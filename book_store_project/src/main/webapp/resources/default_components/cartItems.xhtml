<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:composite="http://java.sun.com/jsf/composite">
    <h:head>
    </h:head>
    <composite:interface></composite:interface>

    <composite:implementation>
        <!-- lists all books already bought by user for them to download -->
        <div class="ui">
            <div class="ui fluid ">
                <!--TODO list actual books owned by user from database -->
                <div class="itemContainer">
                    <div class="ui  divided items very relaxed list">
                        <div class="ui huge header">My Cart</div>
                        <h:panelGroup layout="block" rendered="#{cbb.isCartEmpty()}">
                            <h4> Cart is currently Empty  </h4>
                        </h:panelGroup>
                        <ui:repeat value="#{cbb.getCartItems()}" var="book">
                            <h:form>
                                <div class="item" style="border-bottom: 1px solid #8080805c; margin-bottom: 5%;padding-bottom: 1%">
                                    <div class="content" style="float:right">
                                        <h:commandButton action="#{cbb.removeBookFromCart(book)}" type="submit" value = "Remove" class="ui button"/>
                                    </div>
                                    <div class="ui tiny image">
                                        <h:graphicImage library="images" name="#{book.isbn}.jpg"  />
                                    </div>
                                    <div class="middle aligned content">
                                        <h:commandLink action = "#{bb.viewBook(book)}" type="submit" value = "">
                                            <div class="header">#{book.title}</div>
                                        </h:commandLink>
                                        <div class="description">$ #{book.listPrice}</div>
                                    </div>
                                </div>
                            </h:form>
                        </ui:repeat>
                    </div>
                </div>
            </div>
        </div>
    </composite:implementation>
</html>
