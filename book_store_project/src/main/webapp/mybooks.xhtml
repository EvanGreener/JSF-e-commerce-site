<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:bookstore="http://java.sun.com/jsf/composite/default_components">
    <h:head>
        <title>My Books</title>
        <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css"/>


        <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto&amp;display=swap" rel="stylesheet"/>

        <h:outputStylesheet library="webjars" name="Semantic-UI/2.4.1/semantic.min.css" />
        <h:outputStylesheet library="css" name="homepage.css" />
        <h:outputStylesheet library="book_css" name="bookpage.css" />
        <h:outputScript library="js" name="homepage.js" />
        <h:outputStylesheet library="webjars" name="font-awesome/4.7.0/css/font-awesome.min-jsf.css" />
        <!-- Swiper JS -->
        <script src="https://unpkg.com/swiper/js/swiper.min.js"></script>
    </h:head>

    <h:body>


        <!--composite component that comes from the navbar.xhtml file to avoid coding nav bar in all web pages-->
        <bookstore:navbar/>


        <div class="lightGreyDiv">

            <!-- lists all books already bought by user for them to download -->
            <div class="ui">
                <div class="ui fluid">

                    <br/>
                    <h3 style="text-align: center;font-variant: small-caps;">Download MyBooks</h3>
                    <br/>
                    <div class="centerItems">
                        <!--TODO list actual books owned by user from database -->
                        <div class="ui divided items downloadDiv">





                            <ui:repeat value="#{bb.bestSeller}" var="book">

                                <div class="item">
                                    <div class="ui tiny image">
                                        <h:graphicImage library="images" name="#{book.isbn}.jpg"  />

                                    </div>

                                    <div class="middle aligned content">
                                        #{book.title}
                                        <br/>
                                        ePub
                                        <div class="extra">
                                            <div class="ui right floated button">
                                                Download
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </ui:repeat>







                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class='lightGreyDivLessSpacing'>
              <div class="ui top attached tabular menu" id="tabs">
                  <a class="active item" data-tab="download">Download Books</a>
              </div>
              <div class="ui bottom attached active tab segment" data-tab="download">
                  Any books which the user has previously bought, and for which the purchase has
                  been finalized, will be listed on this page, along with the format in which they
                  have been purchased and a button next to each book which will allow the user to 
                  download a copy of the book, in the aforementioned specified format, to their 
                  computer, where they can finally start reading the actual book in digital form.
              </div>
          </div>






        <!--composite component that comes from the footer.xhtml file to avoid coding the website footer in all web pages-->
        <bookstore:footer/>

    </h:body>
</html>
